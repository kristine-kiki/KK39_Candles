<div class="collapse navbar-collapse" id="main-nav">
    {# The surrounding navbar structure might still use Bootstrap for toggling #}
    <ul class="navbar-nav mx-auto"> {# Centering using Bootstrap class, adjust if kk39 handles it #}

        {# Mobile only Home link #}
        <li class="nav-item d-block d-md-none">
            <a class="nav-link" href="{% url 'home' %}" id="mobile-home-link">
                Home
            </a>
        </li>

        {# Shop All Dropdown (for Sorting/Filtering) #}
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="shop-all-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Shop All
            </a>
            <div class="dropdown-menu border-0" aria-labelledby="shop-all-link">
                <a href="{% url 'products' %}" class="dropdown-item">All Products</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Sort By:</h6>
                <a href="{% url 'products' %}?sort=price&direction=asc" class="dropdown-item">Price: Low to High</a>
                <a href="{% url 'products' %}?sort=price&direction=desc" class="dropdown-item">Price: High to Low</a>
                <a href="{% url 'products' %}?sort=name&direction=asc" class="dropdown-item">Name: A-Z</a>
                {# Add other sorting like Rating if applicable #}
                {# <a href="{% url 'products' %}?sort=rating&direction=desc" class="dropdown-item ">Rating</a> #}
                <div class="dropdown-divider"></div>
                 <h6 class="dropdown-header">Categories:</h6>
                 <a href="{% url 'products' %}?category=candles" class="dropdown-item">Candles</a>
                 <a href="{% url 'products' %}?category=for_home" class="dropdown-item">For Home</a>
                 {# Add other main categories if they exist #}
            </div>
        </li>

        {# Candles Dropdown (for Subcategories) #}
        <li class="nav-item dropdown"> 
            <a class="nav-link dropdown-toggle" href="#" id="candles-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Candles</a> {# Added nav-link class, aria attributes #}
            <div class="dropdown-menu border-0" aria-labelledby="candles-link">
                <a href="{% url 'products' %}?category=candles" class="dropdown-item">All Candles</a>
                 <div class="dropdown-divider"></div>
                {# Ensure dropdown items use <li><a> structure or just <a> with .dropdown-item class #}
                <a href="#" class="dropdown-item">Scented Candles</a>
                <a href="#" class="dropdown-item">Pillar Candles</a>
                <a href="#" class="dropdown-item">Macrame Candles</a>
                <a href="#" class="dropdown-item">Gift Sets</a>
                </div>
        </li>
        
        {# For Home Dropdown (for Subcategories) #}
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="{% url 'products' %}?category=for_home" id="for-home-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                For Home
            </a>
            <div class="dropdown-menu border-0" aria-labelledby="for-home-link">
                 <a href="{% url 'products' %}?category=for_home" class="dropdown-item">All For Home</a>
                 <div class="dropdown-divider"></div>
                 {# === Example Subcategories - Adjust to your actual data === #}
                 <a href="{% url 'products' %}?category=diffusers" class="dropdown-item">Diffusers</a>
                 <a href="{% url 'products' %}?category=room_sprays" class="dropdown-item">Room Sprays</a>
                 <a href="{% url 'products' %}?category=wax_melts" class="dropdown-item">Wax Melts</a>
                  {# === End Example Subcategories === #}
            </div>
        </li>

        {# Standard Links (No Dropdown) #}
        <li class="nav-item">
            <a class="nav-link" href="#" id="about-link">
                About
            </a>
        </li>
         <li class="nav-item">
            <a class="nav-link" href="#" id="contact-link">
                Contact
            </a>
        </li>
    </ul>
</div>

